## Laravel Routing Parameters: সহজ ভাষায় বোঝা

**আপনি যদি প্রোগ্রামিং এর খুব বেশি কিছু না বোঝেন তাহলে চিন্তার কোন কারণ নেই।** চলুন আমরা খুব সহজ ভাষায় বুঝার চেষ্টা করি।

**ধরুন আপনি একটা বইয়ের দোকানে গেছেন।** আপনি একটি নির্দিষ্ট বই খুঁজছেন। আপনি দোকানদারকে বইয়ের নাম বলবেন। দোকানদার সেই নাম অনুযায়ী বইটি খুঁজে আপনাকে দিবে।

**এখানে বইয়ের নামটা হচ্ছে একটা "প্যারামিটার"।** এই প্যারামিটারের উপর ভিত্তি করে দোকানদার আপনাকে নির্দিষ্ট বইটি দিচ্ছে।

**এখন Laravel এ আসা যাক।** Laravel এও একই রকম কাজ হয়। ধরুন আপনার একটি ওয়েবসাইট আছে। এই ওয়েবসাইটে বিভিন্ন ধরনের পেজ আছে। যেমন, একটি পেজে সব বইয়ের তালিকা থাকবে, আরেকটি পেজে একটি নির্দিষ্ট বইয়ের বিস্তারিত তথ্য থাকবে।

**এখানে "একটি নির্দিষ্ট বইয়ের বিস্তারিত তথ্য" এই পেজটিতেই আমরা Routing Parameter ব্যবহার করব।**

- **URL:** আপনি যখন এই পেজে যেতে চাইবেন তখন আপনাকে ব্রাউজারে একটি URL টাইপ করতে হবে। এই URL এ বইয়ের একটি অনন্য ID থাকবে। এই ID টাইকেই আমরা Routing Parameter বলি।
- **কাজ:** Laravel এই ID টা নিয়ে ডাটাবেজ থেকে সেই নির্দিষ্ট বইয়ের সব তথ্য খুঁজে বের করে আপনাকে দেখাবে।

**এর ফলে কী হয়?**

- **Dynamic Content:** আপনার ওয়েবসাইটের বিভিন্ন পেজকে ডাইনামিক করে তোলা যায়। অর্থাৎ, একই পেজে বিভিন্ন ধরনের তথ্য দেখানো সম্ভব।
- **User Friendly URL:** ব্যবহারকারীদের জন্য URL গুলো বেশি সুন্দর ও বোধগম্য হয়।
- **SEO Friendly:** সার্চ ইঞ্জিন গুলো এই ধরনের URL কে বেশি পছন্দ করে।

**সহজ কথায়:** Laravel Routing Parameter হচ্ছে এক ধরনের চাবিকাঠি যার সাহায্যে আপনি আপনার ওয়েবসাইটের বিভিন্ন অংশে পৌঁছাতে পারবেন।

**উদাহরণ:**

ধরুন আপনার একটি ব্লগ সাইট আছে। আপনি একটি নির্দিষ্ট পোস্ট দেখতে চাইছেন। আপনি ব্রাউজারে এই URL টাইপ করবেন:

```
https://আপনারওয়েবসাইট.com/posts/123
```

এখানে "123" হচ্ছে পোস্টের ID, যা একটি Routing Parameter। Laravel এই ID টা নিয়ে ডাটাবেজ থেকে সেই পোস্টের সব তথ্য খুঁজে বের করে আপনাকে দেখাবে।

**আশা করি এখন Routing Parameter সম্পর্কে আপনার ধারণা পরিষ্কার হয়েছে।**

**আপনি যদি আরো জানতে চান তাহলে আমাকে জিজ্ঞেস করতে পারেন।**

**কিছু বিষয় যা আপনি জানতে চাইতে পারেন:**

- Routing Parameter কীভাবে তৈরি করা হয়?
- Routing Parameter এর সাথে Regular Expression ব্যবহার করা যায় কি?
- Routing Parameter এর আরো কিছু ব্যবহার ক্ষেত্র কী?

**আপনার প্রশ্নের জন্য ধন্যবাদ।**

আপনার প্রশ্ন খুবই যৌক্তিক। আসলে, একজন সাধারণ ব্যবহারকারীকে সরাসরি URL এ আইডি দিয়ে কোন পেজে যাওয়ার জন্য বললে সেটা খুবই অস্বাভাবিক এবং ব্যবহারকারী-বান্ধব নয়।

**তাহলে কীভাবে একজন ব্যবহারকারী তার পছন্দের বইটি খুঁজে পাবে?**

এর জন্য আমরা সাধারণত নিচের পদ্ধতিগুলো ব্যবহার করি:

1. **সার্চ বার:**

   - ওয়েবসাইটে একটি সার্চ বার থাকবে যেখানে ব্যবহারকারী বইয়ের নাম, লেখকের নাম বা অন্য কোনো সংশ্লিষ্ট তথ্য দিয়ে সার্চ করতে পারবে।
   - সার্চ রেজাল্টে যেসব বই মিলবে সেগুলোর একটি তালিকা দেখানো হবে।
   - ব্যবহারকারী তার পছন্দের বইটি নির্বাচন করলে সেই বইয়ের বিস্তারিত পেজে চলে যাবে।
   - এই পদ্ধতিতে ব্যবহারকারীকে সরাসরি আইডি জানার দরকার হয় না।

2. **ক্যাটেগরি ও সাব-ক্যাটেগরি:**

   - বইগুলোকে বিভিন্ন ক্যাটেগরি (যেমন: উপন্যাস, কবিতা, শিশু সাহিত্য) এবং সাব-ক্যাটেগরি (যেমন: রোমান্টিক উপন্যাস, রহস্য উপন্যাস) অনুযায়ী সাজানো থাকবে।
   - ব্যবহারকারী তার পছন্দের ক্যাটেগরি বা সাব-ক্যাটেগরি নির্বাচন করে তার পছন্দের বইটি খুঁজে নিতে পারবে।

3. **লিস্ট বা ট্যাব:**
   - সব বইয়ের একটি তালিকা দেখানো হবে বা বিভিন্ন ট্যাবের মাধ্যমে বইগুলোকে শ্রেণীবদ্ধ করা হবে।
   - ব্যবহারকারী এই তালিকা বা ট্যাবগুলো ব্রাউজ করে তার পছন্দের বইটি খুঁজে নিতে পারবে।

**পেছনে কী হচ্ছে:**

- **আপনার কোড:** আপনার Laravel অ্যাপ্লিকেশনে এই সব ফিচার গুলো তৈরি করার জন্য আপনাকে কোড লিখতে হবে। এই কোডগুলো ব্যবহারকারীর ইনপুট (যেমন: সার্চ কিওয়ার্ড, ক্যাটেগরি নির্বাচন) নিয়ে ডাটাবেজ থেকে সংশ্লিষ্ট তথ্য খুঁজে বের করবে এবং সেই তথ্য অনুযায়ী পেজ লোড করবে।
- **URL রি-রাইটিং:** যদিও ব্যবহারকারী সরাসরি URL এ আইডি দিচ্ছে না, তবুও আপনার অ্যাপ্লিকেশন পেছনে থেকে URL রি-রাইটিং করে URL এ আইডি যোগ করতে পারে। এতে করে ব্যবহারকারীকে সরাসরি আইডি জানার দরকার পড়বে না।

**উদাহরণ:**

- ব্যবহারকারী "রোমান্টিক উপন্যাস" ক্যাটেগরি থেকে একটি বই নির্বাচন করলে, আপনার অ্যাপ্লিকেশন পেছনে থেকে একটি URL তৈরি করবে যেমন: `https://আপনারওয়েবসাইট.com/books/123` যেখানে `123` হলো সেই বইয়ের আইডি। তবে ব্যবহারকারীকে এই URL দেখানো হবে না। ব্যবহারকারী শুধুমাত্র সেই বইয়ের বিস্তারিত পেজ দেখতে পাবে।

**সংক্ষেপে:**

- ব্যবহারকারীকে সরাসরি URL এ আইডি দিতে বলার পরিবর্তে আমরা ব্যবহারকারী-বান্ধব ইন্টারফেস তৈরি করি।
- পেছনে থেকে আমরা URL রি-রাইটিং করে আইডি যোগ করি।
- এইভাবে ব্যবহারকারী সহজেই তার পছন্দের বইটি খুঁজে পায়।

**আপনি যদি আরো বিস্তারিত জানতে চান তাহলে নিচের বিষয়গুলো নিয়ে প্রশ্ন করতে পারেন:**

- URL রি-রাইটিং কীভাবে কাজ করে?
- Laravel এ Routing Parameter কীভাবে ব্যবহার করা হয়?
- সার্চ ফাংশন কীভাবে তৈরি করা হয়?

```php
Route::get('/contact/{id}', function ($id) {
return "<h1>contact number: " . $id . "</h1>";
});

Route::get('/about/{id?}', function ($id) { // id? oftional paramitter
return "<h1>about ID: " . $id . "</h1>";
});

Route::get('/user/{id}', function ($id) {
return 'User ID: ' . $id;
});

Route::get('/book/{id?}', function ($id = null) {
    if ($id) {
return "<h1> The book name found</h1>";
} else {
return "<h1>The id is invalid</h1>";
}
});

Route::get('/product/{category}/{id}/{name}', function ($category, $id, $name) {
return "Category: " . $category . "<br>Product ID: " . $id . "<br>Product Name: " . $name;
});

Route::get('/order/{orderId}/{product}/{quantity}/{status}', function ($orderId, $product, $quantity, $status) {
return "Order ID: " . $orderId . ", Product: " . $product . ", Quantity: " . $quantity . ", Status: " . $status;
});

Route::get('/books/{id}', function ($id) {
    // ভিউ রিটার্ন করুন এবং প্যারামিটার হিসাবে $id পাঠান
    return view('book', ['id' => $id]);
});
// Add Constraints
Route::get('/orders/{orderId}/{product}/{quantity}/{status}', function ($orderId, $product, $quantity, $status) {
return "Order ID: " . $orderId . ", Product: " . $product . ", Quantity: " . $quantity . ", Status: " . $status;
})->where([
'orderId' => '[0-9]+', // orderId একটি সংখ্যা হতে হবে
'product' => '[a-zA-Z0-9\-_]+', // product একটি অক্ষরের স্ট্রিং হতে পারে, সাথে - এবং \_ চিহ্ন থাকতে পারে
'quantity' => '[0-9]+', // quantity একটি সংখ্যা হতে হবে
'status' => '[a-zA-Z]+', // status একটি অক্ষরের স্ট্রিং হতে পারে
]);
```

```php
->where([
'orderId' => '[0-9]+', // orderId একটি সংখ্যা হতে হবে
'product' => '[a-zA-Z0-9\-_]+', // product একটি অক্ষরের স্ট্রিং হতে পারে, সাথে - এবং \_ চিহ্ন থাকতে পারে
'quantity' => '[0-9]+', // quantity একটি সংখ্যা হতে হবে
'status' => '[a-zA-Z]+', // status একটি অক্ষরের স্ট্রিং হতে পারে
]);
```

এই শর্তগুলো তো দেওয়ার কোন কারণ আমি দেখছি না কারণ ফর্মে কেমন ডাটা যাবে তা আগে থেকেই সেট।

## আপনার প্রশ্নের উত্তর

**আপনি একেবারে ঠিক বলেছেন যে ফর্মে কী ধরনের ডাটা আসবে তা আগে থেকেই সেট করা থাকে।** তাহলে `where` ক্লজ ব্যবহার করার প্রয়োজন কেন? আসলে, এখানে কয়েকটি গুরুত্বপূর্ণ কারণ রয়েছে:

### ১. **ইউজার ইনপুটের নিরাপত্তা:**

- **Cross-Site Scripting (XSS):** যদি `product` ফিল্ডে ব্যবহারকারী কোনো জাভাস্ক্রিপ্ট কোড ইনজেক্ট করতে পারে, তাহলে আপনার ওয়েবসাইটে সুরক্ষা সমস্যা তৈরি হতে পারে। `where` ক্লজ ব্যবহার করে আপনি নিশ্চিত হতে পারেন যে, `product` ফিল্ডে শুধুমাত্র নির্দিষ্ট ধরনের চরিত্রই গৃহীত হবে।
- **SQL Injection:** যদি `orderId` ফিল্ডে ব্যবহারকারী কোনো SQL কোড ইনজেক্ট করতে পারে, তাহলে আপনার ডাটাবেজের তথ্য চুরি হয়ে যেতে পারে। `where` ক্লজ ব্যবহার করে আপনি নিশ্চিত হতে পারেন যে, `orderId` শুধুমাত্র সংখ্যা ধরবে।

### ২. **ডাটা সত্যতা:**

- **ডাটা টাইপ:** `where` ক্লজ নিশ্চিত করে যে, প্রতিটি প্যারামিটার তার নির্দিষ্ট ডাটা টাইপ অনুযায়ীই আছে। যেমন, `quantity` শুধুমাত্র সংখ্যা হবে।
- **ডাটা ফরম্যাট:** এটি নিশ্চিত করে যে, ডাটা একটি নির্দিষ্ট ফরম্যাট অনুযায়ী আছে। যেমন, `product` ফিল্ডে শুধুমাত্র অক্ষর, সংখ্যা, হাইফেন এবং অন্ডারস্কোর থাকবে।

### ৩. **Routing এর স্পষ্টতা:**

- কোডটি পড়ার সময় `where` ক্লজ দেখে সহজেই বোঝা যায় যে, কোন প্যারামিটারের জন্য কী ধরনের মান গ্রহণযোগ্য। এটি কোডের রক্ষণাবেক্ষণকে সহজ করে।

### ৪. **API ডিজাইন:**

- যদি আপনি একটি API তৈরি করছেন, তাহলে `where` ক্লজ ব্যবহার করে আপনি API এর ডকুমেন্টেশনে পরিষ্কারভাবে উল্লেখ করতে পারেন যে, কোন প্যারামিটারের জন্য কী ধরনের মান পাঠাতে হবে।

**তাহলে ফর্মে ডাটা ভ্যালিডেশন করা হলেও `where` ক্লজ ব্যবহার করার প্রয়োজন কেন?**

- **ফ্রন্ট-এন্ড ভ্যালিডেশন:** ফর্মে যে ভ্যালিডেশন করা হয়, তা প্রাথমিক ভ্যালিডেশন। এটি ব্যবহারকারীকে তাৎক্ষণিক ফিডব্যাক দেয়।
- **ব্যাক-এন্ড ভ্যালিডেশন:** `where` ক্লজ ব্যবহার করে আপনি ব্যাক-এন্ডে আরেকটি স্তরের ভ্যালিডেশন যোগ করেন। এটি নিশ্চিত করে যে, কোনোভাবে যদি ফ্রন্ট-এন্ড ভ্যালিডেশন বাইপাস হয়ে যায়, তাহলেও ব্যাক-এন্ডে ডাটা ভ্যালিড হবে।

**উপসংহার:**

`where` ক্লজ ব্যবহার করে আপনি আপনার অ্যাপ্লিকেশনের সুরক্ষা, স্থিতিশীলতা এবং রক্ষণাবেক্ষণের মান উন্নত করতে পারেন। এটি একটি ভালো অনুশীলন এবং সুপারিশ করা হয়।

```php
Route::get('/country/{countryname}', function (string $countryname) {
    if ($countryname) {
        return "<h1> My country name is {$countryname}";
    } else {
        return "<h1> country name not not found";
    }
})->whereIn('countryname', ['Bangladesh', 'USA', 'US']);
```

এই `Route::get` কোডটি Laravel-এর একটি রাউটিং ব্যবস্থা ব্যবহার করে, যেখানে URL-এর সাথে ডেটা পাঠানো হয় এবং সেটির উপর ভিত্তি করে কিছু আউটপুট প্রদর্শিত হয়। এটি বাংলায় ধাপে ধাপে বুঝিয়ে দেওয়া হলো:

```php
Route::get('/country/{countryname}', function (string $countryname) {
    if ($countryname) {
        return "<h1> My country name is {$countryname}";
    } else {
        return "<h1> country name not not found";
    }
})->whereIn('countryname', ['Bangladesh', 'USA', 'US']);
```

### 1. **Route::get('/country/{countryname}')**:

- এটি একটি রাউট তৈরি করছে যা `GET` HTTP অনুরোধের মাধ্যমে কাজ করবে।
- URL এ `/country/` এর পরে `{countryname}` এর একটি ভ্যারিয়েবল থাকবে। যেমন, `http://yourdomain.com/country/Bangladesh` এই ধরনের কিছু।

### 2. **function (string $countryname)**:

- এই অংশটি একটি কোলব্যাক ফাংশন বা ক্লোজার ফাংশন যা রাউটটি যখনই কল করা হবে তখন রান করবে।
- `{countryname}` অংশটি একটি ডাইনামিক ভ্যারিয়েবল হিসেবে কাজ করবে এবং যেই দেশটির নাম পাঠানো হবে, সেটি এই ফাংশনে `countryname` হিসেবে পাস হবে।
- এখানে `string $countryname` দ্বারা বোঝানো হয়েছে যে, এটি একটি স্ট্রিং টাইপ ভ্যারিয়েবল হবে।

### 3. **if ($countryname)**:

- এই শর্তটি চেক করছে যে, `countryname` কি পাস করা হয়েছে কি না।
- যদি পাস করা থাকে, তাহলে শর্তটি সত্য হবে এবং প্রথম অংশটি চালানো হবে।

### 4. **return "<h1> My country name is {$countryname}"**:

- যদি `countryname` থাকে, তাহলে এই কোডটি HTML-এর মাধ্যমে একটি মেসেজ রিটার্ন করবে:
  "My country name is Bangladesh" (যদি পাস করা নাম 'Bangladesh' হয়)।

### 5. **else**:

- যদি `countryname` পাস করা না হয়, বা শর্তটি মিথ্যা হয়, তাহলে `else` অংশটি চালানো হবে।

### 6. **return "<h1> country name not not found"**:

- যদি কোনো দেশটির নাম না পাওয়া যায়, তাহলে "country name not found" মেসেজটি দেখানো হবে।

### 7. **->whereIn('countryname', ['Bangladesh', 'USA', 'US'])**:

- এই অংশটি যাচাই করছে যে, `countryname` শুধুমাত্র নির্দিষ্ট কিছু মানের মধ্যেই হতে হবে।
- এখানে `['Bangladesh', 'USA', 'US']` মানের তালিকা আছে। অর্থাৎ, শুধুমাত্র 'Bangladesh', 'USA', এবং 'US' নামগুলোই গ্রহণযোগ্য।
- যদি কোনো ভিন্ন দেশ নাম পাস করা হয়, তাহলে Laravel স্বয়ংক্রিয়ভাবে 404 পৃষ্ঠাটি প্রদর্শন করবে।

### উদাহরণ:

- যদি আপনি `http://yourdomain.com/country/Bangladesh` এ যান, তখন আপনি দেখতে পাবেন: "My country name is Bangladesh"।
- কিন্তু যদি আপনি `http://yourdomain.com/country/India` এ যান, তখন 404 error আসবে, কারণ 'India' তালিকার মধ্যে নেই।

```php
Route::get('/contact/{id}', function ($id) {
    return "<h1>contact number: " . $id . "</h1>";
});

Route::get('/about/{id?}', function ($id) { // id? oftional paramitter
    return "<h1>about ID: " . $id . "</h1>";
});

Route::get('/user/{id}', function ($id) {
    return 'User ID: ' . $id;
});

Route::get('/book/{id?}', function ($id = null) {
    if ($id) {
        return "<h1> The book name found</h1>";
    } else {
        return "<h1>The id is invalid</h1>";
    }
});

Route::get('/product/{category}/{id}/{name}', function ($category, $id, $name) {
    return "Category: " . $category . "<br>Product ID: " . $id . "<br>Product Name: " . $name;
});

Route::get('/order/{orderId}/{product}/{quantity}/{status}', function ($orderId, $product, $quantity, $status) {
    return "Order ID: " . $orderId . ", Product: " . $product . ", Quantity: " . $quantity . ", Status: " . $status;
});

Route::get('/books/{id}', function ($id) {
    // ভিউ রিটার্ন করুন এবং প্যারামিটার হিসাবে $id পাঠান
    return view('book', ['id' => $id]);
});
// Add Constraints
Route::get('/orders/{orderId}/{product}/{quantity}/{status}', function ($orderId, $product, $quantity, $status) {
    return "Order ID: " . $orderId . ", Product: " . $product . ", Quantity: " . $quantity . ", Status: " . $status;
})->where([
    'orderId' => '[0-9]+', // orderId একটি সংখ্যা হতে হবে
    'product' => '[a-zA-Z0-9\-_]+', // product একটি অক্ষরের স্ট্রিং হতে পারে, সাথে - এবং _ চিহ্ন থাকতে পারে
    'quantity' => '[0-9]+', // quantity একটি সংখ্যা হতে হবে
    'status' => '[a-zA-Z]+', // status একটি অক্ষরের স্ট্রিং হতে পারে
]);

Route::get('/country/{countryname}', function (string $countryname) {
    if ($countryname) {
        return "<h1> My country name is {$countryname}";
    } else {
        return "<h1> country name not not found";
    }
})->whereIn('countryname', ['Bangladesh', 'USA', 'US']);
```
